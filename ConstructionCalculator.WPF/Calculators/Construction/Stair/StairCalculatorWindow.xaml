<Window x:Class="ConstructionCalculator.WPF.Calculators.Construction.Stair.StairCalculatorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ConstructionCalculator.WPF.Calculators.Construction.Stair"
        xmlns:help="clr-namespace:ConstructionCalculator.WPF.Shared.HelpSystem"
        Title="Stair Calculator" Height="900" Width="450"
        ResizeMode="NoResize" WindowStartupLocation="CenterOwner"
        help:HelpBehavior.CalculatorKind="Stair">
    
    <!-- Button styles now defined in App.xaml -->
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Total Rise Input -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                <Label Content="Total Rise:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="TotalRiseTextBox" Width="250" Height="30" FontSize="14" VerticalContentAlignment="Center"/>
            </StackPanel>

            <!-- Number of Steps Input -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                <Label Content="Number of Steps:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="NumberOfStepsTextBox" Width="250" Height="30" FontSize="14" VerticalContentAlignment="Center" Text="15"/>
            </StackPanel>

            <!-- Stair Width Input -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,0,0,10">
                <Label Content="Stair Width:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="StairWidthTextBox" Width="250" Height="30" FontSize="14" VerticalContentAlignment="Center" Text="36&quot;"/>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,0,0,15">
                <Button x:Name="AutoCalculateButton" Content="Auto-Calculate Steps" MinWidth="160"
                        Style="{StaticResource ActionButtonStyle}"
                        Margin="0,0,10,0" Click="AutoCalculateButton_Click" Height="32"/>
                <Button x:Name="CalculateButton" Content="Calculate" MinWidth="120"
                        Style="{StaticResource PrimaryActionButtonStyle}"
                        Click="CalculateButton_Click"/>
            </StackPanel>

            <!-- Riser Height Result -->
            <Border Grid.Row="4" BorderBrush="Gray" BorderThickness="1" Padding="10" Margin="0,0,0,10">
                <TextBlock x:Name="RiserHeightLabel" Text="" FontSize="16" FontWeight="Bold" 
                           TextAlignment="Center" TextWrapping="Wrap"/>
            </Border>

            <!-- Tread Depth Result -->
            <Border Grid.Row="5" BorderBrush="Gray" BorderThickness="1" Padding="10" Margin="0,0,0,10">
                <TextBlock x:Name="TreadDepthLabel" Text="" FontSize="16" FontWeight="Bold" 
                           TextAlignment="Center" TextWrapping="Wrap"/>
            </Border>

            <!-- Total Run Width Result -->
            <Border Grid.Row="6" BorderBrush="Gray" BorderThickness="1" Padding="10" Margin="0,0,0,10">
                <TextBlock x:Name="RunWidthLabel" Text="" FontSize="16" FontWeight="Bold" 
                           TextAlignment="Center" TextWrapping="Wrap"/>
            </Border>

            <!-- Compliance Message -->
            <TextBlock Grid.Row="7" x:Name="ComplianceLabel" Text="" FontSize="12" 
                       TextAlignment="Center" TextWrapping="Wrap" Margin="0,0,0,15" Foreground="Gray"/>

            <!-- Space Constraints Section -->
            <Label Grid.Row="8" Content="Space Constraints (Optional):" FontSize="14" FontWeight="Bold" Margin="0,10,0,5"/>
            
            <!-- Available Length Input -->
            <StackPanel Grid.Row="9" Orientation="Horizontal" Margin="0,0,0,10">
                <Label Content="Available Length:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="AvailableLengthTextBox" Width="250" Height="30" FontSize="14" 
                         VerticalContentAlignment="Center" TextChanged="SpaceConstraint_TextChanged"
                         LostFocus="AvailableLength_LostFocus"
                         ToolTip="Enter as feet/inches (e.g., 14' or 12' 6&quot;)"/>
            </StackPanel>
            
            <!-- Available Width Input -->
            <StackPanel Grid.Row="10" Orientation="Horizontal" Margin="0,0,0,10">
                <Label Content="Available Width:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="AvailableWidthTextBox" Width="250" Height="30" FontSize="14" 
                         VerticalContentAlignment="Center" TextChanged="SpaceConstraint_TextChanged"
                         LostFocus="AvailableWidth_LostFocus"
                         ToolTip="Enter as feet/inches (e.g., 14' or 10' 8&quot;)"/>
            </StackPanel>
            
            <!-- Space Fit Result -->
            <Border Grid.Row="11" x:Name="SpaceFitBorder" BorderBrush="Gray" BorderThickness="1" 
                    Padding="10" Margin="0,0,0,15" Visibility="Collapsed">
                <TextBlock x:Name="SpaceFitLabel" Text="" FontSize="14" FontWeight="Bold"
                           TextAlignment="Center" TextWrapping="Wrap"/>
            </Border>

            <!-- Include Landing Checkbox -->
            <CheckBox Grid.Row="12" x:Name="IncludeLandingCheckBox" Content="Include Landing" 
                      FontSize="14" FontWeight="Bold" Margin="0,0,0,10" 
                      Checked="IncludeLandingCheckBox_CheckedChanged" 
                      Unchecked="IncludeLandingCheckBox_CheckedChanged"/>

            <!-- Landing Type Selector -->
            <StackPanel Grid.Row="13" x:Name="LandingTypePanel" Orientation="Horizontal" Margin="0,0,0,10" Visibility="Collapsed">
                <Label Content="Landing Type:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <ComboBox x:Name="LandingTypeComboBox" Width="250" Height="30" FontSize="14" 
                          VerticalContentAlignment="Center" SelectionChanged="LandingTypeComboBox_SelectionChanged">
                    <ComboBoxItem Content="Straight (No Turn)" IsSelected="True"/>
                    <ComboBoxItem Content="Right Angle (L-Shaped)"/>
                    <ComboBoxItem Content="Full Return (U-Shaped)"/>
                </ComboBox>
            </StackPanel>

            <!-- Landing Depth Input -->
            <StackPanel Grid.Row="14" x:Name="LandingDepthPanel" Orientation="Horizontal" Margin="0,0,0,10" Visibility="Collapsed">
                <Label Content="Landing Depth:" Width="130" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="LandingDepthTextBox" Width="250" Height="30" FontSize="14" 
                         VerticalContentAlignment="Center" TextChanged="LandingDepthTextBox_TextChanged"
                         LostFocus="LandingDepth_LostFocus"
                         ToolTip="Enter as feet/inches (e.g., 5' or 60&quot;). Press Enter or leave field to update."/>
            </StackPanel>

            <!-- Steps Before Landing Input -->
            <StackPanel Grid.Row="15" x:Name="StepsBeforeLandingPanel" Orientation="Horizontal" Margin="0,0,0,10" Visibility="Collapsed">
                <Label Content="Steps Before Landing:" Width="150" VerticalAlignment="Center" FontSize="14"/>
                <TextBox x:Name="StepsBeforeLandingTextBox" Width="230" Height="30" FontSize="14" 
                         VerticalContentAlignment="Center" Text="8" TextChanged="StepsBeforeLandingTextBox_TextChanged"
                         LostFocus="StepsBeforeLanding_LostFocus"
                         ToolTip="Enter number of steps before landing. Press Enter or leave field to update."/>
            </StackPanel>

            <!-- Steps After Landing Result -->
            <Border Grid.Row="16" x:Name="StepsAfterLandingBorder" BorderBrush="Gray" BorderThickness="1" 
                    Padding="10" Margin="0,0,0,10" Visibility="Collapsed" Background="LightYellow">
                <TextBlock x:Name="StepsAfterLandingLabel" Text="" FontSize="14" 
                           TextAlignment="Center" TextWrapping="Wrap"/>
            </Border>

            <!-- Overall Dimensions Result -->
            <Border Grid.Row="17" x:Name="OverallDimensionsBorder" BorderBrush="Gray" BorderThickness="1" 
                    Padding="10" Margin="0,0,0,10" Visibility="Collapsed" Background="LightCyan">
                <StackPanel>
                    <TextBlock x:Name="OverallLengthLabel" Text="" FontSize="14" FontWeight="Bold" 
                               TextAlignment="Center" TextWrapping="Wrap" Margin="0,0,0,5"/>
                    <TextBlock x:Name="OverallWidthLabel" Text="" FontSize="14" FontWeight="Bold" 
                               TextAlignment="Center" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <!-- Visual Diagram Label -->
            <Label Grid.Row="18" Content="Visual Stair Profile:" FontSize="14" FontWeight="Bold" Margin="0,10,0,5"/>

            <!-- Visual Diagram Display -->
            <Border Grid.Row="19" BorderBrush="Gray" BorderThickness="1" Margin="0,0,0,10">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Height="250">
                    <TextBox x:Name="VisualDiagramTextBox" FontFamily="Consolas" FontSize="11" 
                             IsReadOnly="True" TextWrapping="NoWrap" BorderThickness="0"
                             VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"/>
                </ScrollViewer>
            </Border>
        </Grid>
    </ScrollViewer>
</Window>
