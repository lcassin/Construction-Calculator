<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ConstructionCalculatorMAUI.Pages.Calculators.Materials.BoardFeetCalculatorPage"
             Title="Board Feet Calculator">

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Help" Clicked="OnHelpClicked" />
    </ContentPage.ToolbarItems>

    <Grid Padding="20" RowDefinitions="Auto,Auto,*,Auto,Auto" RowSpacing="15">
        
        <!-- Instructions -->
        <Label Grid.Row="0" 
               Text="Calculate board feet for lumber pieces" 
               FontSize="14" 
               TextColor="Gray" />

        <!-- Input Section -->
        <VerticalStackLayout Grid.Row="1" Spacing="10">
            <Label Text="Add Lumber Piece" FontSize="14" FontAttributes="Bold" />
            
            <Grid ColumnDefinitions="Auto,*,Auto,*,Auto,*,Auto" ColumnSpacing="5">
                <Label Grid.Column="0" Text="Thickness:" VerticalOptions="Center" FontSize="12" />
                <Entry x:Name="ThicknessEntry" Grid.Column="1" Keyboard="Numeric" />
                
                <Label Grid.Column="2" Text="Width:" VerticalOptions="Center" FontSize="12" />
                <Entry x:Name="WidthEntry" Grid.Column="3" Keyboard="Numeric" />
                
                <Label Grid.Column="4" Text="Length:" VerticalOptions="Center" FontSize="12" />
                <Entry x:Name="LengthEntry" Grid.Column="5" Keyboard="Numeric" />
                
                <Button Grid.Column="6" Text="Add" 
                        Style="{StaticResource PrimaryButton}"
                        WidthRequest="60"
                        Clicked="Add_Clicked" />
            </Grid>

            <Label Text="(Thickness and Width in inches, Length in feet)" 
                   FontSize="10" 
                   TextColor="Gray" />
        </VerticalStackLayout>

        <!-- List of Pieces -->
        <Frame Grid.Row="2" BorderColor="Gray" Padding="10" CornerRadius="5">
            <ScrollView>
                <CollectionView x:Name="PiecesCollectionView">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Grid ColumnDefinitions="*,Auto" Padding="0,2">
                                <Label Grid.Column="0" Text="{Binding DisplayText}" FontSize="13" VerticalOptions="Center" />
                                <Button Grid.Column="1" Text="Remove" 
                                        WidthRequest="90"
                                        Clicked="RemovePiece_Clicked"
                                        CommandParameter="{Binding}" />
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </ScrollView>
        </Frame>

        <!-- Total Display -->
        <Frame Grid.Row="3" BorderColor="Gray" Padding="15" BackgroundColor="#F5F5F5" CornerRadius="5">
            <Label x:Name="TotalLabel" 
                   Text="Total Board Feet: 0.00" 
                   FontSize="16" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />
        </Frame>

        <!-- Action Buttons -->
        <Button Grid.Row="4" Text="Clear All" 
                Style="{StaticResource ActionButton}"
                Clicked="ClearAll_Clicked"
                HorizontalOptions="Center"
                WidthRequest="120" />
    </Grid>

</ContentPage>
